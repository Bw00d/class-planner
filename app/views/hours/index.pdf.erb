<!doctype html>
<html>
  <head>
    <script>
      function number_pages() {
        var vars={};
        var x=document.location.search.substring(1).split('&');
        for(var i in x) {var z=x[i].split('=',2);vars[z[0]] = decodeURIComponent(z[1]);}
        var x=['frompage','topage','page','webpage','section','subsection','subsubsection'];
        for(var i in x) {
          var y = document.getElementsByClassName(x[i]);
          for(var j=0; j<y.length; ++j) y[j].textContent = vars[x[i]];
        }
      }
    </script>
    <meta charset='utf-8' />
    <%= stylesheet_link_tag wicked_pdf_asset_base64("pdf") %>
    <%= stylesheet_link_tag wicked_pdf_asset_base64("hours") %>
    <%= stylesheet_link_tag wicked_pdf_asset_base64("utility-classes") %>
    <%= stylesheet_link_tag wicked_pdf_asset_base64("global") %>
  </head>
  <body onload="number_pages()>
    <div id="content" class="pdf-page">
      <div class="container centered">
        <div class="row">
          <h4 class="float-right lg-margin-right"><%= Date.today.strftime('%m/%d/%y') %></h4>
          <h2>Timesheet</h2>
          <h4>Name: <%= current_user.full_name %></h4>
          <h4>Dates: <%= @hours.first.start.to_time.strftime('%m/%d/%y') %>  -
            <%= @hours.last.end.to_time.strftime('%m/%d/%y') %>
          </h4>
          <table class="pdf-table">
            <thead>
              <tr>
                <th>Date</th>
                <th>Hours</th>
                <th>Type</th>
                <th>Activities</th>
              </tr>
            </thead>

            <tbody>
              <% @hours.each do |hour| %>
                <tr>
                  <td><%= hour.start.to_time.strftime('%m/%d/%y') %></td>
                  <td><%= hour.total %></td>
                  <td>
                    <%= hour.work_type %>
                  </td>
                  <td>
                      <%= hour.comment%>
                  </td>
                </tr>

              <% end %>
            </tbody>
          </table>
          <div>
            <h4>Totals:
              <span class="lg-margin-left">
                Instruction –  <%= instruction(@hours) %>
              </span>
              <span class="lg-margin-left">
                Non-Instructional –  <%= non_instruction(@hours) %>
              </span>
            </h4>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
